from pathlib import Path
import json
import xmltodict


def main():
    image_paths = Path(train_path).rglob('*.xml')
    for p in image_paths:
        with open(p) as xml:
            data = xmltodict.parse(xml.read())
        data = json.dumps(data, indent=3)
        print(data)


if __name__ == '__main__':
    train_path = './data/trainLab'
    main()

{"annotation": {"folder": "train", "filename": "0a3cb453f.jpg", "path": "/home/beefmilf/PycharmProjects/wheatDet/data/train/0a3cb453f.jpg", "source": {"database": "Unknown"}, "size": {"width": "1024", "height": "1024", "depth": "3"}, "segmented": "0", "object": [{"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "320", "ymin": "436", "xmax": "437", "ymax": "508"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "608", "ymin": "575", "xmax": "721", "ymax": "636"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "233", "ymin": "825", "xmax": "334", "ymax": "871"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "210", "ymin": "427", "xmax": "274", "ymax": "511"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "55", "ymin": "865", "xmax": "122", "ymax": "970"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "503", "ymin": "695", "xmax": "567", "ymax": "807"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "54", "ymin": "135", "xmax": "148", "ymax": "209"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "219", "ymin": "105", "xmax": "278", "ymax": "225"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "335", "ymin": "73", "xmax": "399", "ymax": "214"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "428", "ymin": "15", "xmax": "533", "ymax": "62"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "45", "ymin": "2", "xmax": "256", "ymax": "35"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "71", "ymin": "336", "xmax": "161", "ymax": "424"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "50", "ymin": "217", "xmax": "160", "ymax": "282"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "640", "ymin": "159", "xmax": "750", "ymax": "407"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "197", "ymin": "642", "xmax": "254", "ymax": "703"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "139", "ymin": "553", "xmax": "240", "ymax": "612"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "653", "ymin": "831", "xmax": "719", "ymax": "899"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "827", "ymin": "633", "xmax": "968", "ymax": "682"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "215", "ymin": "238", "xmax": "312", "ymax": "323"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "9", "ymin": "606", "xmax": "118", "ymax": "666"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "683", "ymin": "931", "xmax": "732", "ymax": "971"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "733", "ymin": "820", "xmax": "820", "ymax": "892"}}, {"name": "spike", "pose": "Unspecified", "truncated": "1", "difficult": "0", "bndbox": {"xmin": "621", "ymin": "1", "xmax": "693", "ymax": "79"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "782", "ymin": "74", "xmax": "841", "ymax": "137"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "700", "ymin": "3", "xmax": "754", "ymax": "70"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "827", "ymin": "307", "xmax": "905", "ymax": "425"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "411", "ymin": "518", "xmax": "486", "ymax": "549"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "263", "ymin": "517", "xmax": "327", "ymax": "573"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "172", "ymin": "499", "xmax": "240", "ymax": "549"}}, {"name": "spike", "pose": "Unspecified", "truncated": "1", "difficult": "0", "bndbox": {"xmin": "1", "ymin": "324", "xmax": "85", "ymax": "527"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "38", "ymin": "521", "xmax": "91", "ymax": "585"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "2", "ymin": "662", "xmax": "42", "ymax": "712"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "2", "ymin": "717", "xmax": "33", "ymax": "758"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "384", "ymin": "97", "xmax": "468", "ymax": "212"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "369", "ymin": "287", "xmax": "480", "ymax": "354"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "470", "ymin": "302", "xmax": "570", "ymax": "336"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "531", "ymin": "340", "xmax": "599", "ymax": "386"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "479", "ymin": "105", "xmax": "599", "ymax": "228"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "540", "ymin": "229", "xmax": "640", "ymax": "392"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "850", "ymin": "20", "xmax": "903", "ymax": "161"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "844", "ymin": "513", "xmax": "999", "ymax": "626"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "875", "ymin": "442", "xmax": "989", "ymax": "500"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "901", "ymin": "493", "xmax": "972", "ymax": "529"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "480", "ymin": "527", "xmax": "537", "ymax": "605"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "535", "ymin": "539", "xmax": "591", "ymax": "631"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "344", "ymin": "505", "xmax": "406", "ymax": "571"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "960", "ymin": "81", "xmax": "1023", "ymax": "123"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "963", "ymin": "3", "xmax": "1020", "ymax": "46"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "28", "ymin": "272", "xmax": "93", "ymax": "329"}}, {"name": "spike", "pose": "Unspecified", "truncated": "0", "difficult": "0", "bndbox": {"xmin": "739", "ymin": "439", "xmax": "848", "ymax": "535"}}, {"name": "spike", "pose": "Unspecified", "truncated": "1", "difficult": "0", "bndbox": {"xmin": "965", "ymin": "779", "xmax": "1024", "ymax": "824"}}]}}
